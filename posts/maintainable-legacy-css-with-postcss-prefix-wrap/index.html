<!doctype html><html class=no-js lang=en-au><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Maintainable Legacy CSS With PostCSS Prefix Wrap</title><meta name=description content="Maintaining legacy CSS critical to support parts of your website that can not yet be upgraded, can be made maintainable with PostCSS Prefix Wrap, including third party libraries that you do not maintain."><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><style>html,body{font-size:20px;font-family:sans-serif;line-height:1.8rem;font-weight:300;-webkit-font-smoothing:antialiased;background-color:#fff;color:#1f1e1d}@media(prefers-color-scheme:dark){html,body{background-color:#1f1e1d;color:#fff}}h1,h2,h3,h4{font-family:bebas neue,sans-serif;font-weight:400;margin:0;color:#694f3f}@media(prefers-color-scheme:dark){h1,h2,h3,h4{color:#947767}}a{color:#775641;text-underline-offset:.2em;text-decoration:underline}@media(prefers-color-scheme:dark){a{color:#b69380}}strong{font-weight:500;color:#775641}@media(prefers-color-scheme:dark){strong{font-weight:500;color:#b69380}}h1{font-size:4rem;line-height:5rem;margin:0 0 1.5rem}@media(max-width:600px){h1{font-size:3rem;line-height:4rem}}h2{font-size:2.5rem;line-height:3rem;margin:3rem 0 1rem}@media(max-width:600px){h2{font-size:2rem;line-height:2.5rem}}h3{font-size:1.8rem;line-height:2.5rem;margin:3rem 0 0}@media(max-width:600px){h3{font-size:1.5rem;line-height:2rem}}main{max-width:40rem;padding:2rem 4rem;margin:0 auto}@media(max-width:600px){main{padding:1rem 2rem}}nav.external{margin-bottom:4rem}nav.external a{margin-right:.5rem}.abstract{border-top:1px solid #775641;border-bottom:1px solid #775641;padding:2rem;margin-left:-2rem;margin-right:-2rem}@media(prefers-color-scheme:dark){.abstract{border-top-color:#b69380;border-bottom-color:#b69380}}section{margin-top:3rem;margin-bottom:3rem}article .metadata .date{border:1px solid #694f3f;color:#694f3f;padding:0 .5rem;display:inline-block;font-size:.8rem}@media(prefers-color-scheme:dark){article .metadata .date{border-color:#947767;color:#947767}}table,th,td{border:1px solid #947767;border-collapse:collapse}table{margin:1rem 0}th,td{font-size:.8rem;padding:.2rem .4rem}</style><link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel=stylesheet><link rel=sitemap type=application/xml href=https://tedman.dev/sitemap.xml><link rel alternate"" type application/rss+xml"" href https://tedman.dev/rss.xml"" title daniel tedman""><script>document.getElementsByTagName("html")[0].classList.remove("no-js")</script></head><body><main><article><h1>Maintainable Legacy CSS With PostCSS Prefix Wrap</h1><div class=metadata><div class=date>January 24, 2023</div></div><section class=abstract><p>Maintaining legacy CSS critical to support parts of your website that can not yet be upgraded, can be made maintainable with PostCSS Prefix Wrap, including third party libraries that you do not maintain.</p></section><section><h2 id=the-problem>The Problem</h2><p>You are responsible for implementing an upgrade to the theme for a website. You have already determined that a
progressive in place upgrade is not possible for the site due to the use of Bootstrap where your upgrade needs to move
between different major versions. You cannot however make the necessary markup changes on all pages of the site at once,
so you will need to include both the old theme for some pages and sections, and add the new theme progressively to new
pages over time.</p><p>You soon realise that you will need to maintain a single build of your theme including both old and new styles as
including different versions of the theme on different pages is not a viable option as you cannot always garuntee that
all components on a single page are upgraded at the same time.</p><h2 id=you-can-leverage-css-class-prefixing>You Can Leverage CSS Class Prefixing</h2><p>You determine that to be able to include both old and new styles together, but allow them to be applied to just the
right sections of the page, a css prefix class can be added to every css rule so that when a containing element has the
matching class, its child elements will get that sub-set of the theme applied. You plan to use this technique for
targeting which sections of the site need the legacy css.</p><h2 id=why-a-manual-solution-may-not-work>Why a Manual Solution May Not Work?</h2><p>You consider using your editor to find and replace all selectors in your source code, this might work if your code was
the only code running on your site, but you then remember that your depending on Bootstrap. You are going to need an
alternative solution, that both handles your custom code, and the code contained within 3rd party libraries, such as
Bootstrap.</p><h2 id=how-postcss-prefix-wrap-can-help>How PostCSS Prefix Wrap Can Help?</h2><p>The solution to your problem is called PostCSS Prefix Wrap. This is an open source plugin for PostCSS that automates the
appending of prefix selectors. You integrate PostCSS Prefix Wrap into your build process. This can be any build process
that supports <a href=https://postcss.org>PostCSS</a>.</p><h2 id=where-can-i-get-postcss-prefix-wrap>Where Can I Get PostCSS Prefix Wrap</h2><p>You can install the package from NPM, <a href=https://www.npmjs.com/package/postcss-prefixwrap>postcss-prefixwrap</a>.</p><p><a href=https://www.npmjs.com/package/postcss-prefixwrap><img src="https://img.shields.io/npm/dw/postcss-prefixwrap?color=blue&logo=npm&style=for-the-badge" alt="NPM Downloads Per Week"></a></p><table><thead><tr><th style=text-align:left>Package Manager</th><th style=text-align:left>Command</th></tr></thead><tbody><tr><td style=text-align:left><a href=https://www.npmjs.com/package/postcss-prefixwrap>NPM</a></td><td style=text-align:left><code>npm install postcss-prefixwrap --save-dev --save-exact</code></td></tr><tr><td style=text-align:left><a href=https://pnpm.io>PNPM</a></td><td style=text-align:left><code>pnpm add postcss-prefixwrap --save-dev --save-exact</code></td></tr><tr><td style=text-align:left><a href=https://yarnpkg.com/package/postcss-prefixwrap>Yarn</a></td><td style=text-align:left><code>yarn add postcss-prefixwrap --dev --exact</code></td></tr></tbody></table><h2 id=its-open-source-so-how-do-i-contribute>It&rsquo;s Open Source, So How Do I Contribute?</h2><p>Development of the package occurs on GitHub
at <a href=https://github.com/dbtedman/postcss-prefixwrap>dbtedman/postcss-prefixwrap</a>, and contribution is welcomed.</p></section></article></main></body></html>