<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=author content><meta name=description content="Maintaining legacy CSS critical to support parts of your website that can not yet be upgraded, can be made maintainable with PostCSS Prefix Wrap, including third party libraries that you do not maintain."><meta name=keywords content><meta name=robots content="noodp"><meta name=theme-color content><link rel=canonical href=https://tedman.dev/posts/maintainable-legacy-css-with-postcss-prefix-wrap/><title>Maintainable Legacy CSS With PostCSS Prefix Wrap :: Daniel Tedman — As a Security Focused Software Engineer, I am committed to participating in the development of a secure and accessible web.</title><link href=https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css rel=stylesheet type=text/css><link rel=stylesheet href=/main.4e5c639214707eff609bb55fe49e183dee42258a73bc90e4cc7b0a84f900798a.css><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color><link rel="shortcut icon" href=/favicon.ico><meta name=msapplication-TileColor content><meta itemprop=name content="Maintainable Legacy CSS With PostCSS Prefix Wrap"><meta itemprop=description content="Maintaining legacy CSS critical to support parts of your website that can not yet be upgraded, can be made maintainable with PostCSS Prefix Wrap, including third party libraries that you do not maintain."><meta itemprop=datePublished content="2023-01-24T00:00:00+00:00"><meta itemprop=dateModified content="2023-01-24T00:00:00+00:00"><meta itemprop=wordCount content="402"><meta itemprop=image content="https://tedman.dev"><meta itemprop=keywords content><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://tedman.dev"><meta name=twitter:title content="Maintainable Legacy CSS With PostCSS Prefix Wrap"><meta name=twitter:description content="Maintaining legacy CSS critical to support parts of your website that can not yet be upgraded, can be made maintainable with PostCSS Prefix Wrap, including third party libraries that you do not maintain."><meta property="og:title" content="Maintainable Legacy CSS With PostCSS Prefix Wrap"><meta property="og:description" content="Maintaining legacy CSS critical to support parts of your website that can not yet be upgraded, can be made maintainable with PostCSS Prefix Wrap, including third party libraries that you do not maintain."><meta property="og:type" content="article"><meta property="og:url" content="https://tedman.dev/posts/maintainable-legacy-css-with-postcss-prefix-wrap/"><meta property="og:image" content="https://tedman.dev"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-01-24T00:00:00+00:00"><meta property="article:modified_time" content="2023-01-24T00:00:00+00:00"><meta property="og:site_name" content="Daniel Tedman"><meta property="article:published_time" content="2023-01-24 00:00:00 +0000 UTC"></head><body><div class=container><header class=header><span class=header__inner><a href=/ style=text-decoration:none><div class=logo><span class=logo__mark>></span>
<span class=logo__text>Daniel Tedman</span>
<span class=logo__cursor></span></div></a><span class=header__right><nav class=menu><ul class=menu__inner><li><a href=/posts/>Posts</a></li></ul></nav><span class=menu-trigger><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg></span></span></span></header><div class=content><main class=post><div class=post-info><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>2 minutes</p></div><article><h1 class=post-title><a href=https://tedman.dev/posts/maintainable-legacy-css-with-postcss-prefix-wrap/>Maintainable Legacy CSS With PostCSS Prefix Wrap</a></h1><div class=post-excerpt>Maintaining legacy CSS critical to support parts of your website that can not yet be upgraded, can be made maintainable with PostCSS Prefix Wrap, including third party libraries that you do not maintain.</div><hr><aside id=toc><div class=toc-title>Table of Contents</div><nav id=TableOfContents><ul><li><a href=#the-problem>The Problem</a></li><li><a href=#you-can-leverage-css-class-prefixing>You Can Leverage CSS Class Prefixing</a></li><li><a href=#why-a-manual-solution-may-not-work>Why a Manual Solution May Not Work?</a></li><li><a href=#how-postcss-prefix-wrap-can-help>How PostCSS Prefix Wrap Can Help?</a></li><li><a href=#where-can-i-get-postcss-prefix-wrap>Where Can I Get PostCSS Prefix Wrap</a></li><li><a href=#its-open-source-so-how-do-i-contribute>It&rsquo;s Open Source, So How Do I Contribute?</a></li></ul></nav></aside><hr><div class=post-content><h2 id=the-problem>The Problem</h2><p>You are responsible for implementing an upgrade to the theme for a website. You have already determined that a
progressive in place upgrade is not possible for the site due to the use of Bootstrap where your upgrade needs to move
between different major versions. You cannot however make the necessary markup changes on all pages of the site at once,
so you will need to include both the old theme for some pages and sections, and add the new theme progressively to new
pages over time.</p><p>You soon realise that you will need to maintain a single build of your theme including both old and new styles as
including different versions of the theme on different pages is not a viable option as you cannot always garuntee that
all components on a single page are upgraded at the same time.</p><h2 id=you-can-leverage-css-class-prefixing>You Can Leverage CSS Class Prefixing</h2><p>You determine that to be able to include both old and new styles together, but allow them to be applied to just the
right sections of the page, a css prefix class can be added to every css rule so that when a containing element has the
matching class, its child elements will get that sub-set of the theme applied. You plan to use this technique for
targeting which sections of the site need the legacy css.</p><h2 id=why-a-manual-solution-may-not-work>Why a Manual Solution May Not Work?</h2><p>You consider using your editor to find and replace all selectors in your source code, this might work if your code was
the only code running on your site, but you then remember that your depending on Bootstrap. You are going to need an
alternative solution, that both handles your custom code, and the code contained within 3rd party libraries, such as
Bootstrap.</p><h2 id=how-postcss-prefix-wrap-can-help>How PostCSS Prefix Wrap Can Help?</h2><p>The solution to your problem is called PostCSS Prefix Wrap. This is an open source plugin for PostCSS that automates the
appending of prefix selectors. You integrate PostCSS Prefix Wrap into your build process. This can be any build process
that supports <a href=https://postcss.org>PostCSS</a>.</p><h2 id=where-can-i-get-postcss-prefix-wrap>Where Can I Get PostCSS Prefix Wrap</h2><p>You can install the package from NPM, <a href=https://www.npmjs.com/package/postcss-prefixwrap>postcss-prefixwrap</a>.</p><p><a href=https://www.npmjs.com/package/postcss-prefixwrap><img src="https://img.shields.io/npm/dw/postcss-prefixwrap?color=blue&logo=npm&style=for-the-badge" alt="NPM Downloads Per Week"></a></p><table><thead><tr><th style=text-align:left>Package Manager</th><th style=text-align:left>Command</th></tr></thead><tbody><tr><td style=text-align:left><a href=https://www.npmjs.com/package/postcss-prefixwrap>NPM</a></td><td style=text-align:left><code>npm install postcss-prefixwrap --save-dev --save-exact</code></td></tr><tr><td style=text-align:left><a href=https://pnpm.io>PNPM</a></td><td style=text-align:left><code>pnpm add postcss-prefixwrap --save-dev --save-exact</code></td></tr><tr><td style=text-align:left><a href=https://yarnpkg.com/package/postcss-prefixwrap>Yarn</a></td><td style=text-align:left><code>yarn add postcss-prefixwrap --dev --exact</code></td></tr></tbody></table><h2 id=its-open-source-so-how-do-i-contribute>It&rsquo;s Open Source, So How Do I Contribute?</h2><p>Development of the package occurs on GitHub
at <a href=https://github.com/dbtedman/postcss-prefixwrap>dbtedman/postcss-prefixwrap</a>, and contribution is welcomed.</p></div></article><hr><div class=post-info><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text"><path d="M14 2H6A2 2 0 004 4v16a2 2 0 002 2h12a2 2 0 002-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10 9 9 9 8 9"/></svg>402 Words</p><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>2023-01-24 00:00</p></div><div class=pagination><div class=pagination__buttons><span class="button previous"><a href=https://tedman.dev/posts/a-reluctant-leader/><span class=button__icon>←</span>
<span class=button__text>A Reluctant Leader</span></a></span></div></div></main></div><footer class=footer></footer></div><script type=text/javascript src=/bundle.min.bb2c6bc3ed452ca4759660e4020811f248bc2320081559e8a32d8b0092773852941133639d35e8370d03d3ddaa750b1edd6b343c5bd22a55d5bdeae8f648f49b.js integrity="sha512-uyxrw+1FLKR1lmDkAggR8ki8IyAIFVnooy2LAJJ3OFKUETNjnTXoNw0D092qdQse3Ws0PFvSKlXVvero9kj0mw=="></script></body></html>