<!doctype html><html lang=en-au><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Maintainable Legacy CSS With PostCSS Prefix Wrap</title><meta name=description content="Maintaining legacy CSS critical to support parts of your website that can not yet be upgraded, can be made maintainable with PostCSS Prefix Wrap, including third party libraries that you do not maintain."><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.min.2f3c103fa8fba547d44ff06450ec14f9a1a78f1c9e3d86563f5a7a65deb9d533.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.min.ed9c7cd194015925a89f5bfe67478b33b4fc704b0cf365d471e4038bea1e86e9.png><link rel=apple-touch-icon sizes=57x57 href=/favicon-57x57.min.bc4af4dde79b339b790a4729be9235088e00e41998f449925135902b848e7216.png><link rel=icon type=image/png href=/favicon-57x57.min.bc4af4dde79b339b790a4729be9235088e00e41998f449925135902b848e7216.png sizes=57x57><link rel=apple-touch-icon sizes=60x60 href=/favicon-60x60.min.432c1b1bf69e7ce7a47f079ab6409e2298502c486f60652e29656593c54fd9e2.png><link rel=apple-touch-icon sizes=72x72 href=/favicon-72x72.min.95d92c4cfb955ffd30b67aacd76127312db5fcf0036d24ad087a3a65aace11a2.png><link rel=apple-touch-icon sizes=76x76 href=/favicon-76x76.min.c8b2eb83eb65f8b5d05ed842c946e84d2415cacf4b7418a2e5c7483202cd8d8a.png><link rel=icon type=image/png href=/favicon-76x76.min.c8b2eb83eb65f8b5d05ed842c946e84d2415cacf4b7418a2e5c7483202cd8d8a.png sizes=76x76><link rel=icon type=image/png sizes=96x96 href=/favicon-96x96.min.c0961a76766b7fff4ccc323a207d72cbbdb800b05669725baf06ce206c8681f6.png><link rel=apple-touch-icon sizes=114x114 href=/favicon-114x114.min.cdeca5756cbe961454fc1161608f8de20857bb7d659c6441904ab6ad40c51f13.png><link rel=apple-touch-icon sizes=120x120 href=/favicon-120x120.min.13b4ffce0c544d94669e3fb8bcfcbf103248e84dc06c8fbd3a7c7899a652090e.png><link rel=icon type=image/png href=/favicon-128x128.min.ed9d63a2795cba040089698dc4f35f45fd9795ee71ae6f7bd1347ba64e5600ec.png sizes=128x128><link rel=apple-touch-icon sizes=144x144 href=/favicon-144x144.min.7d7d1c79c6335c7b470c2c38aa72974878be930327ffb42781cac4e09c2dfedd.png><meta name=msapplication-TileImage content="/favicon-144x144.min.7d7d1c79c6335c7b470c2c38aa72974878be930327ffb42781cac4e09c2dfedd.png"><link rel=apple-touch-icon sizes=152x152 href=/favicon-152x152.min.1d9fe3164eada992cb205fb4a19a9fbf7f5a30e34c943f5b3f8c136a4669c632.png><link rel=apple-touch-icon sizes=180x180 href=/favicon-180x180.min.c900a657ee1444d9df4d486c99839cf3826568e454aa84e3a0b9e4fd81bdc86a.png><link rel=icon type=image/png sizes=192x192 href=/favicon-192x192.min.079e5370797cbd2da7147a23495e27d757d45ebba7778fce946f7f067ff2f7fc.png><link rel="shortcut icon" sizes=196x196 href=/favicon-196x196.min.0c902b6c723e262bb182fdca6961cc5d5822b306becd08d1a68df148fbb57fa1.png><link rel=icon type=image/png sizes=228x228 href=/favicon-228x228.min.b3b4d1c03ef473d4f91f3846714c4e1c6761dc05522a788cbb2da6db88ec19e8.png><link rel=manifest href=/site.9d3ddd355181d1286059dd015e23b7389cf87488bebaa3c8f7c6cabca78074d1.webmanifest><link rel=stylesheet href=/app.min.7d7d11c31ca9a4caa784675147931cf4c30d21bb9885a1beb199965352cafba7.css><link rel=sitemap type=application/xml href=https://tedman.dev/sitemap.xml><link rel=alternate type=application/rss+xml href=https://tedman.dev/rss.xml title="Daniel Tedman"><link type=text/plain rel=author href=https://tedman.dev/humans.txt><script async src=https://analytics.eu.umami.is/script.js data-website-id=b9e86c3d-5242-45d7-bb0d-96106efe9149></script></head><body><main><article><nav class=breadcrumbs><a href=/>Home</a>
<span>//</span>
<span>Posts</span></nav><h1>Maintainable Legacy CSS With PostCSS Prefix Wrap</h1><div class=metadata><div class=date>January 24, 2023</div><div class=topics><a href=https://tedman.dev/topics/open-source/>Open Source</a><a href=https://tedman.dev/topics/typescript/>TypeScript</a></div></div><section class=abstract><p>Maintaining legacy CSS critical to support parts of your website that can not yet be upgraded, can be made maintainable with PostCSS Prefix Wrap, including third party libraries that you do not maintain.</p></section><section class=toc><nav id=TableOfContents><ul><li><a href=#the-problem>The Problem</a></li><li><a href=#you-can-leverage-css-class-prefixing>You Can Leverage CSS Class Prefixing</a></li><li><a href=#why-a-manual-solution-may-not-work>Why a Manual Solution May Not Work?</a></li><li><a href=#how-postcss-prefix-wrap-can-help>How PostCSS Prefix Wrap Can Help?</a></li><li><a href=#where-can-i-get-postcss-prefix-wrap>Where Can I Get PostCSS Prefix Wrap</a></li><li><a href=#its-open-source-so-how-do-i-contribute>It&rsquo;s Open Source, So How Do I Contribute?</a></li></ul></nav></section><section><h2 id=the-problem>The Problem</h2><p>You are responsible for implementing an upgrade to the theme for a website. You have already determined that a
progressive in place upgrade is not possible for the site due to the use of Bootstrap where your upgrade needs to move
between different major versions. You cannot however make the necessary markup changes on all pages of the site at once,
so you will need to include both the old theme for some pages and sections, and add the new theme progressively to new
pages over time.</p><p>You soon realise that you will need to maintain a single build of your theme including both old and new styles as
including different versions of the theme on different pages is not a viable option as you cannot always garuntee that
all components on a single page are upgraded at the same time.</p><h2 id=you-can-leverage-css-class-prefixing>You Can Leverage CSS Class Prefixing</h2><p>You determine that to be able to include both old and new styles together, but allow them to be applied to just the
right sections of the page, a css prefix class can be added to every css rule so that when a containing element has the
matching class, its child elements will get that sub-set of the theme applied. You plan to use this technique for
targeting which sections of the site need the legacy css.</p><h2 id=why-a-manual-solution-may-not-work>Why a Manual Solution May Not Work?</h2><p>You consider using your editor to find and replace all selectors in your source code, this might work if your code was
the only code running on your site, but you then remember that your depending on Bootstrap. You are going to need an
alternative solution, that both handles your custom code, and the code contained within 3rd party libraries, such as
Bootstrap.</p><h2 id=how-postcss-prefix-wrap-can-help>How PostCSS Prefix Wrap Can Help?</h2><p>The solution to your problem is called PostCSS Prefix Wrap. This is an open source plugin for PostCSS that automates the
appending of prefix selectors. You integrate PostCSS Prefix Wrap into your build process. This can be any build process
that supports <a href=https://postcss.org>PostCSS</a>.</p><h2 id=where-can-i-get-postcss-prefix-wrap>Where Can I Get PostCSS Prefix Wrap</h2><p>You can install the package from NPM, <a href=https://www.npmjs.com/package/postcss-prefixwrap>postcss-prefixwrap</a>.</p><p><a href=https://www.npmjs.com/package/postcss-prefixwrap><img src="https://img.shields.io/npm/dw/postcss-prefixwrap?color=blue&logo=npm&style=for-the-badge" alt="NPM Downloads Per Week"></a></p><table><thead><tr><th style=text-align:left>Package Manager</th><th style=text-align:left>Command</th></tr></thead><tbody><tr><td style=text-align:left><a href=https://www.npmjs.com/package/postcss-prefixwrap>NPM</a></td><td style=text-align:left><code>npm install postcss-prefixwrap --save-dev --save-exact</code></td></tr><tr><td style=text-align:left><a href=https://pnpm.io>PNPM</a></td><td style=text-align:left><code>pnpm add postcss-prefixwrap --save-dev --save-exact</code></td></tr><tr><td style=text-align:left><a href=https://yarnpkg.com/package/postcss-prefixwrap>Yarn</a></td><td style=text-align:left><code>yarn add postcss-prefixwrap --dev --exact</code></td></tr></tbody></table><h2 id=its-open-source-so-how-do-i-contribute>It&rsquo;s Open Source, So How Do I Contribute?</h2><p>Development of the package occurs on GitHub
at <a href=https://github.com/dbtedman/postcss-prefixwrap>dbtedman/postcss-prefixwrap</a>, and contribution is welcomed.</p></section></article></main><footer><nav><a href=https://tedman.dev/topics>topics</a>
<a href=https://tedman.dev/rss.xml>rss</a>
<a href=https://tedman.dev/.well-known/security.txt>security.txt</a>
<a href=https://tedman.dev/humans.txt>humans.txt</a>
<a href=https://github.com/dbtedman/tedman.dev/blob/main/LICENSE.md>license</a></nav></footer></body></html>